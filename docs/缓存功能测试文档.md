# ç¼“å­˜åŠŸèƒ½æµ‹è¯•æ–‡æ¡£

## ðŸ“‹ æµ‹è¯•æ¦‚è¿°

### æµ‹è¯•ç›®æ ‡
éªŒè¯åœ¨å¯ç”¨å†…å­˜ç¼“å­˜çš„æƒ…å†µä¸‹ï¼Œæ‰€æœ‰åŠŸèƒ½æ¨¡å—ï¼ˆæ³¨å†Œã€ç™»å½•ã€ä¸ªäººä¸­å¿ƒã€ç®¡ç†åŽå°ç­‰ï¼‰èƒ½å¤Ÿæ­£å¸¸å·¥ä½œï¼Œç¡®ä¿ç¼“å­˜æœºåˆ¶ä¸ä¼šå½±å“ä¸šåŠ¡é€»è¾‘çš„æ­£ç¡®æ€§ã€‚

### ç¼“å­˜æž¶æž„è¯´æ˜Ž
æœ¬é¡¹ç›®é‡‡ç”¨å¤šå±‚ç¼“å­˜æž¶æž„ï¼š
- **å‰ç«¯ç¼“å­˜**ï¼š`apiCache`ï¼ˆAPIå“åº”ç¼“å­˜ï¼‰ã€`userDataCache`ï¼ˆç”¨æˆ·æ•°æ®ç¼“å­˜ï¼‰
- **åŽç«¯ç¼“å­˜**ï¼š6ç§ä¸“ç”¨ç¼“å­˜å®žä¾‹ï¼Œé’ˆå¯¹ä¸åŒæ•°æ®ç±»åž‹ä¼˜åŒ–
- **ç¼“å­˜ç­–ç•¥**ï¼šåŸºäºŽTTLçš„è‡ªåŠ¨è¿‡æœŸæœºåˆ¶ï¼Œæ”¯æŒæ‰‹åŠ¨å¤±æ•ˆ

---

## ðŸ—ï¸ ç¼“å­˜å®žä¾‹è¯´æ˜Ž

### åŽç«¯ç¼“å­˜å®žä¾‹é…ç½®

| ç¼“å­˜å®žä¾‹ | ç”¨é€” | å¼€å‘çŽ¯å¢ƒTTL | ç”Ÿäº§çŽ¯å¢ƒTTL | æœ€å¤§æ¡ç›®æ•° |
|---------|------|-------------|-------------|------------|
| `userCache` | ç”¨æˆ·ä¿¡æ¯ã€æƒé™ã€è®¾ç½® | 5åˆ†é’Ÿ | 30åˆ†é’Ÿ | 100/500 |
| `contentCache` | å¸–å­ã€æ´»åŠ¨ã€è¯„è®º | 2åˆ†é’Ÿ | 10åˆ†é’Ÿ | 200/1000 |
| `statsCache` | ç»Ÿè®¡æ•°æ®ã€è®¡æ•° | 30ç§’ | 2åˆ†é’Ÿ | 50/200 |
| `configCache` | ç³»ç»Ÿé…ç½®ã€å¤šè¯­è¨€ | 10åˆ†é’Ÿ | 1å°æ—¶ | 20/100 |
| `sessionCache` | ç”¨æˆ·ä¼šè¯ã€ä¸´æ—¶çŠ¶æ€ | 15åˆ†é’Ÿ | 15åˆ†é’Ÿ | 50/300 |
| `apiCache` | APIå“åº”ç»“æžœ | 1åˆ†é’Ÿ | 5åˆ†é’Ÿ | 100/500 |

### å‰ç«¯ç¼“å­˜é…ç½®

| ç¼“å­˜æœåŠ¡ | ç”¨é€” | TTL | å­˜å‚¨æ–¹å¼ |
|---------|------|-----|----------|
| `apiCache` | APIå“åº”ç¼“å­˜ | 5åˆ†é’Ÿ | å†…å­˜+localStorage |
| `userDataCache` | ç”¨æˆ·æ•°æ®ç¼“å­˜ | 5åˆ†é’Ÿ | å†…å­˜ |

---

## ðŸ” å·²ç¼“å­˜æŽ¥å£æ¸…å•

### ç”¨æˆ·ç›¸å…³æŽ¥å£

#### ç”¨æˆ·åŸºç¡€ä¿¡æ¯
- **GET** `/api/users/:id` - èŽ·å–ç”¨æˆ·ä¿¡æ¯ï¼ˆuserCacheï¼Œ30åˆ†é’Ÿï¼‰
- **GET** `/api/users` - èŽ·å–ç”¨æˆ·åˆ—è¡¨ï¼ˆuserCacheï¼Œ5åˆ†é’Ÿï¼‰
- **GET** `/api/users/:id/profile` - èŽ·å–ç”¨æˆ·èµ„æ–™ï¼ˆuserCacheï¼Œ30åˆ†é’Ÿï¼‰

#### ç”¨æˆ·ç»Ÿè®¡æ•°æ®
- **GET** `/api/users/:id/stats` - èŽ·å–ç”¨æˆ·ç»Ÿè®¡ï¼ˆstatsCacheï¼Œ2åˆ†é’Ÿï¼‰

#### ç”¨æˆ·å¸–å­
- **GET** `/api/users/:id/posts` - èŽ·å–ç”¨æˆ·å¸–å­åˆ—è¡¨ï¼ˆcontentCacheï¼Œ10åˆ†é’Ÿï¼‰
- **GET** `/api/users/:id/posts/count` - èŽ·å–ç”¨æˆ·å¸–å­æ•°é‡ï¼ˆstatsCacheï¼Œ2åˆ†é’Ÿï¼‰
- **GET** `/api/users/:id/posts/liked` - èŽ·å–ç”¨æˆ·ç‚¹èµžçš„å¸–å­ï¼ˆcontentCacheï¼Œ10åˆ†é’Ÿï¼‰

#### ç”¨æˆ·ç¤¾äº¤å…³ç³»
- **GET** `/api/users/:id/followers` - èŽ·å–ç²‰ä¸åˆ—è¡¨ï¼ˆuserCacheï¼Œ30åˆ†é’Ÿï¼‰
- **GET** `/api/users/:id/following` - èŽ·å–å…³æ³¨åˆ—è¡¨ï¼ˆuserCacheï¼Œ30åˆ†é’Ÿï¼‰
- **GET** `/api/users/:id/followers/count` - èŽ·å–ç²‰ä¸æ•°é‡ï¼ˆstatsCacheï¼Œ2åˆ†é’Ÿï¼‰
- **GET** `/api/users/:id/following/count` - èŽ·å–å…³æ³¨æ•°é‡ï¼ˆstatsCacheï¼Œ2åˆ†é’Ÿï¼‰

### å¸–å­ç›¸å…³æŽ¥å£

#### å¸–å­åŸºç¡€æ“ä½œ
- **GET** `/api/posts` - èŽ·å–å¸–å­åˆ—è¡¨ï¼ˆcontentCacheï¼Œ10åˆ†é’Ÿï¼‰
- **GET** `/api/posts/:id` - èŽ·å–å•ä¸ªå¸–å­ï¼ˆcontentCacheï¼Œ10åˆ†é’Ÿï¼‰
- **GET** `/api/posts/trending` - èŽ·å–çƒ­é—¨å¸–å­ï¼ˆcontentCacheï¼Œ10åˆ†é’Ÿï¼‰

#### å¸–å­äº’åŠ¨
- **GET** `/api/posts/:id/likes` - èŽ·å–å¸–å­ç‚¹èµžåˆ—è¡¨ï¼ˆcontentCacheï¼Œ10åˆ†é’Ÿï¼‰
- **GET** `/api/posts/:id/likes/count` - èŽ·å–å¸–å­ç‚¹èµžæ•°ï¼ˆstatsCacheï¼Œ2åˆ†é’Ÿï¼‰

#### å¸–å­ä¸Šä¼ 
- **POST** `/api/posts/upload` - ä¸Šä¼ å¸–å­å›¾ç‰‡ï¼ˆapiCacheï¼Œ5åˆ†é’Ÿï¼‰

### æ´»åŠ¨ç›¸å…³æŽ¥å£

#### æ´»åŠ¨åˆ—è¡¨
- **GET** `/api/activities` - èŽ·å–æ´»åŠ¨åˆ—è¡¨ï¼ˆcontentCacheï¼Œ10åˆ†é’Ÿï¼‰
- **GET** `/api/activities/:id` - èŽ·å–å•ä¸ªæ´»åŠ¨ï¼ˆcontentCacheï¼Œ10åˆ†é’Ÿï¼‰
- **GET** `/api/activities/trending` - èŽ·å–çƒ­é—¨æ´»åŠ¨ï¼ˆcontentCacheï¼Œ10åˆ†é’Ÿï¼‰
- **GET** `/api/activities/categories` - èŽ·å–æ´»åŠ¨åˆ†ç±»ï¼ˆconfigCacheï¼Œ1å°æ—¶ï¼‰

#### ç”¨æˆ·æ´»åŠ¨
- **GET** `/api/activities/user/:userId` - èŽ·å–ç”¨æˆ·æ´»åŠ¨ï¼ˆcontentCacheï¼Œ10åˆ†é’Ÿï¼‰

---

## ðŸ§ª å‰ç«¯ç¼“å­˜æµ‹è¯•

### apiCache æµ‹è¯•ç”¨ä¾‹

#### æµ‹è¯•1ï¼šåŸºæœ¬ç¼“å­˜åŠŸèƒ½
```javascript
// æµ‹è¯•æ­¥éª¤
1. æ¸…ç©ºæµè§ˆå™¨ç¼“å­˜
2. è®¿é—®é¦–é¡µï¼Œè§‚å¯Ÿç½‘ç»œè¯·æ±‚
3. åˆ·æ–°é¡µé¢ï¼ŒéªŒè¯ç¼“å­˜å‘½ä¸­
4. ç­‰å¾…5åˆ†é’ŸåŽåˆ·æ–°ï¼ŒéªŒè¯ç¼“å­˜è¿‡æœŸ

// é¢„æœŸç»“æžœ
- é¦–æ¬¡è®¿é—®ï¼šå‘é€ç½‘ç»œè¯·æ±‚
- 5åˆ†é’Ÿå†…åˆ·æ–°ï¼šä½¿ç”¨ç¼“å­˜ï¼Œæ— ç½‘ç»œè¯·æ±‚
- 5åˆ†é’ŸåŽåˆ·æ–°ï¼šé‡æ–°å‘é€ç½‘ç»œè¯·æ±‚
```

#### æµ‹è¯•2ï¼šç¼“å­˜å¤±æ•ˆæœºåˆ¶
```javascript
// æµ‹è¯•æ­¥éª¤
1. è®¿é—®ç”¨æˆ·èµ„æ–™é¡µé¢
2. å‘å¸ƒæ–°å¸–å­
3. è¿”å›žèµ„æ–™é¡µé¢ï¼ŒéªŒè¯æ•°æ®æ›´æ–°

// é¢„æœŸç»“æžœ
- å‘å¸ƒå¸–å­åŽï¼Œç›¸å…³ç¼“å­˜è‡ªåŠ¨å¤±æ•ˆ
- é¡µé¢æ˜¾ç¤ºæœ€æ–°çš„å¸–å­æ•°æ®
```

### userDataCache æµ‹è¯•ç”¨ä¾‹

#### æµ‹è¯•3ï¼šç”¨æˆ·æ•°æ®ç¼“å­˜
```javascript
// æµ‹è¯•æ­¥éª¤
1. ç™»å½•ç”¨æˆ·è´¦å·
2. è®¿é—®ä¸ªäººä¸­å¿ƒ
3. åˆ‡æ¢åˆ°å…¶ä»–é¡µé¢å†è¿”å›ž
4. è§‚å¯Ÿæ•°æ®åŠ è½½æƒ…å†µ

// é¢„æœŸç»“æžœ
- é¦–æ¬¡è®¿é—®ï¼šæ˜¾ç¤ºåŠ è½½çŠ¶æ€
- å†æ¬¡è®¿é—®ï¼šç«‹å³æ˜¾ç¤ºç¼“å­˜æ•°æ®
- æŽ§åˆ¶å°æ˜¾ç¤ºç¼“å­˜å‘½ä¸­æ—¥å¿—
```

---

## ðŸ”§ åŽç«¯APIç¼“å­˜æµ‹è¯•

### ç”¨æˆ·æ¨¡å—æµ‹è¯•

#### æµ‹è¯•4ï¼šç”¨æˆ·ä¿¡æ¯ç¼“å­˜
```bash
# æµ‹è¯•å‘½ä»¤
curl -X GET "http://localhost:3000/api/users/1" \
  -H "Authorization: Bearer YOUR_TOKEN"

# æµ‹è¯•æ­¥éª¤
1. ç¬¬ä¸€æ¬¡è¯·æ±‚ï¼šè§‚å¯Ÿå“åº”æ—¶é—´
2. ç«‹å³é‡å¤è¯·æ±‚ï¼šéªŒè¯ç¼“å­˜å‘½ä¸­
3. ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯
4. å†æ¬¡è¯·æ±‚ï¼šéªŒè¯ç¼“å­˜å¤±æ•ˆ

# é¢„æœŸç»“æžœ
- é¦–æ¬¡è¯·æ±‚ï¼šæ­£å¸¸å“åº”æ—¶é—´
- ç¼“å­˜å‘½ä¸­ï¼šå“åº”æ—¶é—´æ˜¾è‘—å‡å°‘
- æ•°æ®ä¿®æ”¹åŽï¼šç¼“å­˜è‡ªåŠ¨å¤±æ•ˆï¼Œè¿”å›žæœ€æ–°æ•°æ®
```

#### æµ‹è¯•5ï¼šç”¨æˆ·ç»Ÿè®¡ç¼“å­˜
```bash
# æµ‹è¯•å‘½ä»¤
curl -X GET "http://localhost:3000/api/users/1/stats" \
  -H "Authorization: Bearer YOUR_TOKEN"

# æµ‹è¯•æ­¥éª¤
1. èŽ·å–ç”¨æˆ·ç»Ÿè®¡æ•°æ®
2. ç”¨æˆ·å‘å¸ƒæ–°å¸–å­
3. ç­‰å¾…2åˆ†é’Ÿï¼ˆstatsCache TTLï¼‰
4. å†æ¬¡èŽ·å–ç»Ÿè®¡æ•°æ®

# é¢„æœŸç»“æžœ
- å‘å¸ƒå¸–å­åŽï¼Œç»Ÿè®¡æ•°æ®åœ¨2åˆ†é’Ÿå†…ä¿æŒç¼“å­˜
- 2åˆ†é’ŸåŽè‡ªåŠ¨æ›´æ–°ä¸ºæœ€æ–°ç»Ÿè®¡
```

### å†…å®¹æ¨¡å—æµ‹è¯•

#### æµ‹è¯•6ï¼šå¸–å­åˆ—è¡¨ç¼“å­˜
```bash
# æµ‹è¯•å‘½ä»¤
curl -X GET "http://localhost:3000/api/posts?page=1&limit=10"

# æµ‹è¯•æ­¥éª¤
1. èŽ·å–å¸–å­åˆ—è¡¨
2. å‘å¸ƒæ–°å¸–å­
3. ç«‹å³èŽ·å–å¸–å­åˆ—è¡¨
4. ç­‰å¾…10åˆ†é’ŸåŽå†æ¬¡èŽ·å–

# é¢„æœŸç»“æžœ
- å‘å¸ƒæ–°å¸–å­åŽï¼Œç¼“å­˜è‡ªåŠ¨å¤±æ•ˆ
- åˆ—è¡¨ç«‹å³æ˜¾ç¤ºæ–°å¸–å­
```

#### æµ‹è¯•7ï¼šçƒ­é—¨å†…å®¹ç¼“å­˜
```bash
# æµ‹è¯•å‘½ä»¤
curl -X GET "http://localhost:3000/api/posts/trending"

# æµ‹è¯•æ­¥éª¤
1. èŽ·å–çƒ­é—¨å¸–å­
2. å¯¹å¸–å­è¿›è¡Œç‚¹èµžæ“ä½œ
3. ç«‹å³èŽ·å–çƒ­é—¨å¸–å­
4. è§‚å¯ŸæŽ’åºå˜åŒ–

# é¢„æœŸç»“æžœ
- ç‚¹èµžåŽï¼Œçƒ­é—¨æŽ’åºåœ¨ç¼“å­˜è¿‡æœŸåŽæ›´æ–°
```

### æ´»åŠ¨æ¨¡å—æµ‹è¯•

#### æµ‹è¯•8ï¼šæ´»åŠ¨åˆ—è¡¨ç¼“å­˜
```bash
# æµ‹è¯•å‘½ä»¤
curl -X GET "http://localhost:3000/api/activities"

# æµ‹è¯•æ­¥éª¤
1. èŽ·å–æ´»åŠ¨åˆ—è¡¨
2. åˆ›å»ºæ–°æ´»åŠ¨
3. ç«‹å³èŽ·å–æ´»åŠ¨åˆ—è¡¨

# é¢„æœŸç»“æžœ
- åˆ›å»ºæ´»åŠ¨åŽï¼Œåˆ—è¡¨ç¼“å­˜å¤±æ•ˆ
- æ–°æ´»åŠ¨ç«‹å³å‡ºçŽ°åœ¨åˆ—è¡¨ä¸­
```

---

## ðŸ—‘ï¸ ç¼“å­˜å¤±æ•ˆæµ‹è¯•

### è‡ªåŠ¨å¤±æ•ˆæµ‹è¯•

#### æµ‹è¯•9ï¼šTTLè¿‡æœŸæµ‹è¯•
```javascript
// æµ‹è¯•æ­¥éª¤
1. è®¿é—®ä»»æ„ç¼“å­˜æŽ¥å£
2. è®°å½•å½“å‰æ—¶é—´
3. ç­‰å¾…å¯¹åº”çš„TTLæ—¶é—´
4. å†æ¬¡è®¿é—®ç›¸åŒæŽ¥å£
5. è§‚å¯Ÿæ˜¯å¦é‡æ–°èŽ·å–æ•°æ®

// éªŒè¯æ–¹æ³•
- æŸ¥çœ‹ç½‘ç»œè¯·æ±‚
- è§‚å¯Ÿå“åº”æ—¶é—´å˜åŒ–
- æ£€æŸ¥æœåŠ¡å™¨æ—¥å¿—
```

### æ‰‹åŠ¨å¤±æ•ˆæµ‹è¯•

#### æµ‹è¯•10ï¼šæ•°æ®ä¿®æ”¹è§¦å‘å¤±æ•ˆ
```javascript
// æµ‹è¯•åœºæ™¯
1. ç”¨æˆ·ä¿¡æ¯ä¿®æ”¹ â†’ ç”¨æˆ·ç›¸å…³ç¼“å­˜å¤±æ•ˆ
2. å¸–å­å‘å¸ƒ/åˆ é™¤ â†’ å¸–å­åˆ—è¡¨ç¼“å­˜å¤±æ•ˆ
3. ç‚¹èµž/å–æ¶ˆç‚¹èµž â†’ ç»Ÿè®¡ç¼“å­˜å¤±æ•ˆ
4. å…³æ³¨/å–æ¶ˆå…³æ³¨ â†’ ç¤¾äº¤å…³ç³»ç¼“å­˜å¤±æ•ˆ

// éªŒè¯æ–¹æ³•
- æ“ä½œå‰åŽå¯¹æ¯”æ•°æ®
- æ£€æŸ¥ç¼“å­˜å¤±æ•ˆæ—¥å¿—
- éªŒè¯ç›¸å…³é¡µé¢æ•°æ®æ›´æ–°
```

---

## âš¡ æ€§èƒ½æµ‹è¯•

### ç¼“å­˜å‘½ä¸­çŽ‡æµ‹è¯•

#### æµ‹è¯•11ï¼šç¼“å­˜å‘½ä¸­çŽ‡ç»Ÿè®¡
```bash
# èŽ·å–ç¼“å­˜ç»Ÿè®¡
curl -X GET "http://localhost:3000/api/health/cache"

# æµ‹è¯•æ­¥éª¤
1. æ‰§è¡Œ100æ¬¡éšæœºAPIè¯·æ±‚
2. èŽ·å–ç¼“å­˜ç»Ÿè®¡ä¿¡æ¯
3. è®¡ç®—å‘½ä¸­çŽ‡

# é¢„æœŸç»“æžœ
- ç¼“å­˜å‘½ä¸­çŽ‡ > 70%
- å“åº”æ—¶é—´å¹³å‡å‡å°‘ > 50%
```

### å“åº”æ—¶é—´æµ‹è¯•

#### æµ‹è¯•12ï¼šæ€§èƒ½å¯¹æ¯”æµ‹è¯•
```bash
# ä½¿ç”¨abå·¥å…·è¿›è¡ŒåŽ‹åŠ›æµ‹è¯•
ab -n 1000 -c 10 "http://localhost:3000/api/posts"

# æµ‹è¯•æ­¥éª¤
1. æ¸…ç©ºæ‰€æœ‰ç¼“å­˜
2. æ‰§è¡ŒåŽ‹åŠ›æµ‹è¯•ï¼Œè®°å½•ç»“æžœ
3. é¢„çƒ­ç¼“å­˜
4. å†æ¬¡æ‰§è¡ŒåŽ‹åŠ›æµ‹è¯•
5. å¯¹æ¯”ä¸¤æ¬¡ç»“æžœ

# é¢„æœŸç»“æžœ
- ç¼“å­˜é¢„çƒ­åŽï¼Œå¹³å‡å“åº”æ—¶é—´å‡å°‘ > 60%
- åžåé‡æå‡ > 100%
```

---

## ðŸŒ çŽ¯å¢ƒé…ç½®æµ‹è¯•

### å¼€å‘çŽ¯å¢ƒæµ‹è¯•

#### æµ‹è¯•13ï¼šå¼€å‘çŽ¯å¢ƒç¼“å­˜è¡Œä¸º
```javascript
// é…ç½®éªŒè¯
- userCache TTL: 5åˆ†é’Ÿ
- contentCache TTL: 2åˆ†é’Ÿ
- statsCache TTL: 30ç§’

// æµ‹è¯•æ­¥éª¤
1. ç¡®è®¤ NODE_ENV=development
2. éªŒè¯å„ç¼“å­˜å®žä¾‹çš„TTLè®¾ç½®
3. æµ‹è¯•ç¼“å­˜è¿‡æœŸæ—¶é—´

// é¢„æœŸç»“æžœ
- ç¼“å­˜è¿‡æœŸæ—¶é—´ç¬¦åˆå¼€å‘çŽ¯å¢ƒé…ç½®
- ä¾¿äºŽå¼€å‘è°ƒè¯•
```

### ç”Ÿäº§çŽ¯å¢ƒæµ‹è¯•

#### æµ‹è¯•14ï¼šç”Ÿäº§çŽ¯å¢ƒç¼“å­˜è¡Œä¸º
```javascript
// é…ç½®éªŒè¯
- userCache TTL: 30åˆ†é’Ÿ
- contentCache TTL: 10åˆ†é’Ÿ
- statsCache TTL: 2åˆ†é’Ÿ

// æµ‹è¯•æ­¥éª¤
1. ç¡®è®¤ NODE_ENV=production
2. éªŒè¯å„ç¼“å­˜å®žä¾‹çš„TTLè®¾ç½®
3. æµ‹è¯•ç¼“å­˜å®¹é‡é™åˆ¶

// é¢„æœŸç»“æžœ
- ç¼“å­˜æ—¶é—´æ›´é•¿ï¼Œæå‡æ€§èƒ½
- ç¼“å­˜å®¹é‡æ›´å¤§ï¼Œæ”¯æŒæ›´å¤šå¹¶å‘
```

### æµ‹è¯•çŽ¯å¢ƒæµ‹è¯•

#### æµ‹è¯•15ï¼šæµ‹è¯•çŽ¯å¢ƒç¼“å­˜ç¦ç”¨
```javascript
// é…ç½®éªŒè¯
- æ‰€æœ‰ç¼“å­˜å®žä¾‹ enabled: false
- TTL: 1ç§’ï¼ˆå¦‚æžœå¯ç”¨ï¼‰

// æµ‹è¯•æ­¥éª¤
1. ç¡®è®¤ NODE_ENV=test
2. éªŒè¯ç¼“å­˜æ˜¯å¦è¢«ç¦ç”¨
3. ç¡®ä¿æµ‹è¯•ç»“æžœçš„å‡†ç¡®æ€§

// é¢„æœŸç»“æžœ
- ç¼“å­˜å®Œå…¨ç¦ç”¨æˆ–æžçŸ­TTL
- æµ‹è¯•ä¸å—ç¼“å­˜å½±å“
```

---

## ðŸ‘¨â€ðŸ’¼ ç®¡ç†åŽå°ç¼“å­˜æµ‹è¯•

### ç”¨æˆ·ç®¡ç†æµ‹è¯•

#### æµ‹è¯•16ï¼šç®¡ç†å‘˜ç”¨æˆ·åˆ—è¡¨ç¼“å­˜
```bash
# æµ‹è¯•å‘½ä»¤
curl -X GET "http://localhost:3000/api/admin/users" \
  -H "Authorization: Bearer ADMIN_TOKEN"

# æµ‹è¯•æ­¥éª¤
1. ç®¡ç†å‘˜ç™»å½•
2. è®¿é—®ç”¨æˆ·ç®¡ç†é¡µé¢
3. æ·»åŠ /åˆ é™¤ç”¨æˆ·
4. éªŒè¯åˆ—è¡¨æ›´æ–°

# é¢„æœŸç»“æžœ
- ç”¨æˆ·åˆ—è¡¨æ­£ç¡®ç¼“å­˜
- ç”¨æˆ·å˜æ›´åŽç¼“å­˜åŠæ—¶å¤±æ•ˆ
```

#### æµ‹è¯•17ï¼šç”¨æˆ·ç»Ÿè®¡ä»ªè¡¨æ¿ç¼“å­˜
```bash
# æµ‹è¯•å‘½ä»¤
curl -X GET "http://localhost:3000/api/admin/dashboard" \
  -H "Authorization: Bearer ADMIN_TOKEN"

# æµ‹è¯•æ­¥éª¤
1. è®¿é—®ç®¡ç†åŽå°ä»ªè¡¨æ¿
2. è§‚å¯Ÿç»Ÿè®¡æ•°æ®åŠ è½½
3. æ‰§è¡Œå½±å“ç»Ÿè®¡çš„æ“ä½œ
4. éªŒè¯ä»ªè¡¨æ¿æ•°æ®æ›´æ–°

# é¢„æœŸç»“æžœ
- ä»ªè¡¨æ¿æ•°æ®æ­£ç¡®ç¼“å­˜
- ç»Ÿè®¡æ•°æ®å®šæœŸæ›´æ–°
```

### å†…å®¹ç®¡ç†æµ‹è¯•

#### æµ‹è¯•18ï¼šå†…å®¹å®¡æ ¸ç¼“å­˜
```bash
# æµ‹è¯•å‘½ä»¤
curl -X GET "http://localhost:3000/api/admin/posts/pending" \
  -H "Authorization: Bearer ADMIN_TOKEN"

# æµ‹è¯•æ­¥éª¤
1. è®¿é—®å†…å®¹å®¡æ ¸é¡µé¢
2. å®¡æ ¸é€šè¿‡/æ‹’ç»å†…å®¹
3. éªŒè¯å¾…å®¡æ ¸åˆ—è¡¨æ›´æ–°

# é¢„æœŸç»“æžœ
- å¾…å®¡æ ¸åˆ—è¡¨æ­£ç¡®ç¼“å­˜
- å®¡æ ¸æ“ä½œåŽç¼“å­˜å¤±æ•ˆ
```

### ç³»ç»Ÿè®¾ç½®æµ‹è¯•

#### æµ‹è¯•19ï¼šç³»ç»Ÿé…ç½®ç¼“å­˜
```bash
# æµ‹è¯•å‘½ä»¤
curl -X GET "http://localhost:3000/api/admin/settings" \
  -H "Authorization: Bearer ADMIN_TOKEN"

# æµ‹è¯•æ­¥éª¤
1. è®¿é—®ç³»ç»Ÿè®¾ç½®é¡µé¢
2. ä¿®æ”¹ç³»ç»Ÿé…ç½®
3. éªŒè¯é…ç½®ç«‹å³ç”Ÿæ•ˆ

# é¢„æœŸç»“æžœ
- ç³»ç»Ÿé…ç½®æ­£ç¡®ç¼“å­˜
- é…ç½®ä¿®æ”¹åŽå…¨å±€ç”Ÿæ•ˆ
```

---

## ðŸš¨ å¼‚å¸¸æƒ…å†µæµ‹è¯•

### ç¼“å­˜æ•…éšœæµ‹è¯•

#### æµ‹è¯•20ï¼šç¼“å­˜æœåŠ¡å¼‚å¸¸å¤„ç†
```javascript
// æ¨¡æ‹Ÿåœºæ™¯
1. å†…å­˜ä¸è¶³å¯¼è‡´ç¼“å­˜æ¸…ç†
2. ç¼“å­˜å®žä¾‹æ„å¤–é”€æ¯
3. ç¼“å­˜é”®å†²çª

// æµ‹è¯•æ­¥éª¤
1. æ¨¡æ‹Ÿå¼‚å¸¸æƒ…å†µ
2. è§‚å¯Ÿç³»ç»Ÿè¡Œä¸º
3. éªŒè¯é™çº§æœºåˆ¶

// é¢„æœŸç»“æžœ
- ç³»ç»Ÿç»§ç»­æ­£å¸¸è¿è¡Œ
- è‡ªåŠ¨é™çº§åˆ°æ— ç¼“å­˜æ¨¡å¼
- é”™è¯¯æ—¥å¿—æ­£ç¡®è®°å½•
```

### ç¼“å­˜æ¢å¤æµ‹è¯•

#### æµ‹è¯•21ï¼šç¼“å­˜æœåŠ¡æ¢å¤
```javascript
// æµ‹è¯•æ­¥éª¤
1. æ¸…ç©ºæ‰€æœ‰ç¼“å­˜
2. é‡å¯ç¼“å­˜æœåŠ¡
3. éªŒè¯ç¼“å­˜é‡æ–°å·¥ä½œ

// é¢„æœŸç»“æžœ
- ç¼“å­˜æœåŠ¡æ­£å¸¸é‡å¯
- æ–°çš„ç¼“å­˜æ•°æ®æ­£ç¡®å­˜å‚¨
- æ€§èƒ½æ¢å¤åˆ°é¢„æœŸæ°´å¹³
```

### å¹¶å‘è®¿é—®æµ‹è¯•

#### æµ‹è¯•22ï¼šé«˜å¹¶å‘ç¼“å­˜æµ‹è¯•
```bash
# ä½¿ç”¨wrkè¿›è¡Œå¹¶å‘æµ‹è¯•
wrk -t12 -c400 -d30s "http://localhost:3000/api/posts"

# æµ‹è¯•æ­¥éª¤
1. å¯åŠ¨é«˜å¹¶å‘è¯·æ±‚
2. ç›‘æŽ§ç¼“å­˜å‘½ä¸­çŽ‡
3. è§‚å¯Ÿç³»ç»Ÿç¨³å®šæ€§

# é¢„æœŸç»“æžœ
- ç³»ç»Ÿç¨³å®šè¿è¡Œ
- ç¼“å­˜å‘½ä¸­çŽ‡ä¿æŒç¨³å®š
- æ— å†…å­˜æ³„æ¼
```

---

## ðŸ› ï¸ æµ‹è¯•å·¥å…·å’Œæ–¹æ³•

### ç¼“å­˜è°ƒè¯•å·¥å…·

#### å¼€å‘çŽ¯å¢ƒä¸“ç”¨è°ƒè¯•æŽ¥å£
```bash
# èŽ·å–ç¼“å­˜ç»Ÿè®¡
GET /api/cache-debug/stats

# æŸ¥çœ‹ç¼“å­˜å†…å®¹
GET /api/cache-debug/inspect/:cacheType

# æ¸…ç©ºæŒ‡å®šç¼“å­˜
DELETE /api/cache-debug/clear/:cacheType

# ç¼“å­˜å¥åº·æ£€æŸ¥
GET /api/health/cache
```

#### ç¼“å­˜æµ‹è¯•æŽ¥å£
```bash
# ç¼“å­˜åŠŸèƒ½æµ‹è¯•
GET /api/cache-test/basic

# ç¼“å­˜å¤±æ•ˆæµ‹è¯•
POST /api/cache-invalidation-test/trigger

# æ€§èƒ½æµ‹è¯•
GET /api/cache-test/performance
```

### å‰ç«¯ç¼“å­˜ç›‘æŽ§

#### æµè§ˆå™¨å¼€å‘è€…å·¥å…·
```javascript
// åœ¨æŽ§åˆ¶å°æŸ¥çœ‹ç¼“å­˜ç»Ÿè®¡
apiCache.getStats()
userDataCache.getCacheStats()

// æ‰‹åŠ¨æ¸…ç†ç¼“å­˜
apiCache.cleanup()
userDataCache.invalidateAllCache()
```

#### ç½‘ç»œé¢æ¿ç›‘æŽ§
```javascript
// ç›‘æŽ§è¦ç‚¹
1. è¯·æ±‚æ•°é‡å˜åŒ–
2. å“åº”æ—¶é—´å¯¹æ¯”
3. ç¼“å­˜å‘½ä¸­æ ‡è¯†
4. æ•°æ®ä¸€è‡´æ€§éªŒè¯
```

### æœåŠ¡å™¨ç›‘æŽ§

#### æ—¥å¿—ç›‘æŽ§
```bash
# ç¼“å­˜ç›¸å…³æ—¥å¿—
tail -f logs/cache.log

# æ€§èƒ½æ—¥å¿—
tail -f logs/performance.log

# é”™è¯¯æ—¥å¿—
tail -f logs/error.log
```

#### å†…å­˜ç›‘æŽ§
```bash
# æŸ¥çœ‹Node.jså†…å­˜ä½¿ç”¨
node --inspect app.js

# ä½¿ç”¨pm2ç›‘æŽ§
pm2 monit
```

---

## âœ… æµ‹è¯•æ£€æŸ¥æ¸…å•

### åŠŸèƒ½æµ‹è¯•
- [ ] ç”¨æˆ·æ³¨å†Œ/ç™»å½•åŠŸèƒ½æ­£å¸¸
- [ ] ä¸ªäººä¸­å¿ƒæ•°æ®æ˜¾ç¤ºæ­£ç¡®
- [ ] å¸–å­å‘å¸ƒ/ç¼–è¾‘/åˆ é™¤æ­£å¸¸
- [ ] ç¤¾äº¤åŠŸèƒ½ï¼ˆå…³æ³¨/ç‚¹èµžï¼‰æ­£å¸¸
- [ ] æ´»åŠ¨åˆ›å»º/å‚ä¸ŽåŠŸèƒ½æ­£å¸¸
- [ ] ç®¡ç†åŽå°æ‰€æœ‰åŠŸèƒ½æ­£å¸¸

### ç¼“å­˜æµ‹è¯•
- [ ] æ‰€æœ‰ç¼“å­˜å®žä¾‹æ­£å¸¸å·¥ä½œ
- [ ] ç¼“å­˜TTLè®¾ç½®æ­£ç¡®
- [ ] ç¼“å­˜å¤±æ•ˆæœºåˆ¶æ­£å¸¸
- [ ] ç¼“å­˜å‘½ä¸­çŽ‡è¾¾æ ‡ï¼ˆ>70%ï¼‰
- [ ] æ€§èƒ½æå‡æ˜Žæ˜¾ï¼ˆ>50%ï¼‰

### å¼‚å¸¸æµ‹è¯•
- [ ] ç¼“å­˜æ•…éšœæ—¶ç³»ç»Ÿæ­£å¸¸é™çº§
- [ ] é«˜å¹¶å‘ä¸‹ç¼“å­˜ç¨³å®š
- [ ] å†…å­˜ä½¿ç”¨åˆç†ï¼Œæ— æ³„æ¼
- [ ] é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•å®Œæ•´

### çŽ¯å¢ƒæµ‹è¯•
- [ ] å¼€å‘çŽ¯å¢ƒé…ç½®æ­£ç¡®
- [ ] ç”Ÿäº§çŽ¯å¢ƒé…ç½®æ­£ç¡®
- [ ] æµ‹è¯•çŽ¯å¢ƒç¼“å­˜ç¦ç”¨

---

## ðŸ“Š æµ‹è¯•æŠ¥å‘Šæ¨¡æ¿

### æµ‹è¯•æ‰§è¡Œè®°å½•
```markdown
## ç¼“å­˜åŠŸèƒ½æµ‹è¯•æŠ¥å‘Š

**æµ‹è¯•æ—¶é—´**: YYYY-MM-DD HH:mm:ss
**æµ‹è¯•çŽ¯å¢ƒ**: development/production
**æµ‹è¯•äººå‘˜**: [å§“å]

### æµ‹è¯•ç»“æžœæ±‡æ€»
- æ€»æµ‹è¯•ç”¨ä¾‹: 22ä¸ª
- é€šè¿‡ç”¨ä¾‹: XXä¸ª
- å¤±è´¥ç”¨ä¾‹: XXä¸ª
- è·³è¿‡ç”¨ä¾‹: XXä¸ª

### æ€§èƒ½æŒ‡æ ‡
- ç¼“å­˜å‘½ä¸­çŽ‡: XX%
- å¹³å‡å“åº”æ—¶é—´æå‡: XX%
- å†…å­˜ä½¿ç”¨: XX MB

### å‘çŽ°é—®é¢˜
1. [é—®é¢˜æè¿°]
   - å½±å“ç¨‹åº¦: é«˜/ä¸­/ä½Ž
   - è§£å†³æ–¹æ¡ˆ: [æ–¹æ¡ˆæè¿°]

### å»ºè®®ä¼˜åŒ–
1. [ä¼˜åŒ–å»ºè®®]
   - é¢„æœŸæ”¶ç›Š: [æ”¶ç›Šæè¿°]
   - å®žæ–½éš¾åº¦: é«˜/ä¸­/ä½Ž
```

---

## ðŸ”„ æŒç»­ç›‘æŽ§

### ç”Ÿäº§çŽ¯å¢ƒç›‘æŽ§
```javascript
// å®šæœŸæ£€æŸ¥ç¼“å­˜å¥åº·çŠ¶æ€
setInterval(() => {
  const health = getCacheHealth();
  if (health.status !== 'healthy') {
    // å‘é€å‘Šè­¦
    sendAlert('ç¼“å­˜æœåŠ¡å¼‚å¸¸', health);
  }
}, 5 * 60 * 1000); // æ¯5åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡
```

### æ€§èƒ½ç›‘æŽ§
```javascript
// ç›‘æŽ§ç¼“å­˜å‘½ä¸­çŽ‡
setInterval(() => {
  const stats = getAllCacheStats();
  const hitRate = calculateHitRate(stats);
  if (hitRate < 0.7) {
    // å‘½ä¸­çŽ‡è¿‡ä½Žå‘Šè­¦
    sendAlert('ç¼“å­˜å‘½ä¸­çŽ‡è¿‡ä½Ž', { hitRate, stats });
  }
}, 10 * 60 * 1000); // æ¯10åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡
```

---

**æ³¨æ„äº‹é¡¹**:
1. æµ‹è¯•å‰è¯·ç¡®ä¿ç³»ç»Ÿå¤„äºŽç¨³å®šçŠ¶æ€
2. å»ºè®®åœ¨éžé«˜å³°æœŸè¿›è¡Œæ€§èƒ½æµ‹è¯•
3. æµ‹è¯•è¿‡ç¨‹ä¸­æ³¨æ„ç›‘æŽ§ç³»ç»Ÿèµ„æºä½¿ç”¨
4. å‘çŽ°é—®é¢˜åŠæ—¶è®°å½•å¹¶åé¦ˆå¼€å‘å›¢é˜Ÿ
5. å®šæœŸæ›´æ–°æµ‹è¯•ç”¨ä¾‹ï¼Œç¡®ä¿è¦†ç›–æ–°åŠŸèƒ½