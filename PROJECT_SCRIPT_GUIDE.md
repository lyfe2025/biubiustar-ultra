# Project.sh 使用指南

## 概述
`project.sh` 是 BiubiuStar Ultra 项目的管理脚本，提供了完整的项目启动、停止、配置管理等功能。

## 新功能特性

### 1. 环境变量配置支持
- ✅ 从 `.env` 文件自动读取端口配置
- ✅ 支持 `VITE_PORT`（前端端口）和 `PORT`（后端端口）
- ✅ 如果 `.env` 文件不存在，自动使用默认配置

### 2. 智能端口冲突处理
- ✅ 启动前自动检测端口占用情况
- ✅ 自动停止占用端口的进程
- ✅ 确保项目能够正常启动

### 3. 增强的状态显示
- ✅ 显示当前端口配置
- ✅ 显示访问地址
- ✅ 详细的端口占用状态检查

### 4. 配置文件管理
- ✅ 交互式创建 `.env` 文件
- ✅ 支持自定义端口配置

## 使用方法

### 命令行模式
```bash
# 查看帮助
./project.sh help

# 启动项目（自动处理端口冲突）
./project.sh start

# 停止项目
./project.sh stop

# 重启项目
./project.sh restart

# 查看状态
./project.sh status

# 创建/编辑 .env 配置
./project.sh env

# 清理项目
./project.sh clean
```

### 交互式菜单模式
```bash
# 运行脚本（不带参数）
./project.sh
```

## 配置说明

### .env 文件格式
```env
# 前端端口 (Vite 开发服务器)
VITE_PORT=5173

# 后端端口 (Express 服务器)
PORT=3001

# 其他配置...
```

### 默认端口
- 前端：5173（Vite 默认端口）
- 后端：3001（Express 服务器端口）

## 主要改进

1. **动态配置读取**：不再使用硬编码端口，支持从环境变量读取
2. **智能启动**：启动时自动处理端口冲突，无需手动停止占用进程
3. **增强显示**：状态查看更加详细，包含配置信息和访问地址
4. **配置管理**：提供便捷的 .env 文件创建和管理功能
5. **命令行支持**：支持命令行参数，便于脚本化操作

## 故障排除

如果项目启动失败：
1. 检查 `.env` 文件中的端口配置
2. 使用 `./project.sh status` 查看详细状态
3. 使用 `./project.sh clean` 清理项目后重新启动

## 兼容性
- ✅ 向后兼容：现有项目无需修改即可使用
- ✅ 跨平台：支持 macOS 和 Linux 系统
- ✅ 环境友好：优雅处理 .env 文件缺失情况
