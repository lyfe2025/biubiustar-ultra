# ========================================
# Supabase 数据库备份还原环境配置
# 参考项目根目录 .env 文件结构
# ========================================

# ========================================
# 最小数据库连接配置（仅备份/还原所需）
# 优先使用项目根目录 .env，本文件仅作为覆盖选项
# ========================================

# 方式 1: 使用完整的数据库连接字符串 (推荐)
# 从 Supabase 项目设置中获取连接信息
# 格式: postgres://postgres:YOUR_PASSWORD@db.YOUR-PROJECT-REF.supabase.co:5432/postgres?sslmode=require
# 注意: 将 powzuwgzbmpnqamchdma 替换为你的实际项目引用
SUPABASE_DB_URL=

# ========================================
# 方式 2: 使用单独的 PostgreSQL 环境变量
# 当 SUPABASE_DB_URL 未设置时生效
# ========================================

# 数据库主机地址
# 从 Supabase 项目设置中获取
# 注意: 将 powzuwgzbmpnqamchdma 替换为你的实际项目引用
PGHOST=

# 数据库端口 (Supabase 默认为 5432)
PGPORT=5432

# 数据库名称 (Supabase 默认为 postgres)
PGDATABASE=postgres

# 数据库用户名 (Supabase 默认为 postgres)
PGUSER=postgres

# 数据库密码
# 从 Supabase 项目设置中获取
PGPASSWORD=

# SSL 模式 (Supabase 要求 require)
PGSSLMODE=require

# ========================================
# JWT 配置 (可选)
# ========================================
# 其他与项目运行相关的变量请在项目根目录 `.env` 中维护

# ========================================
# 备份配置 (可选)
# ========================================

# 备份文件压缩级别 (1-9, 9 为最高压缩)
BACKUP_COMPRESSION_LEVEL=9

# ========================================
# 高级配置 (可选)
# ========================================

# 是否在备份时包含所有者信息
BACKUP_INCLUDE_OWNER=false

# 是否在备份时包含权限信息
BACKUP_INCLUDE_PRIVILEGES=false

# 还原时的并发进程数 (0 表示自动检测)
RESTORE_JOBS=0

# 是否在还原时清理已存在的对象
RESTORE_CLEAN_EXISTING=true

# ========================================
# 通知配置 (可选)
# ========================================

# 备份完成后是否发送通知
ENABLE_NOTIFICATIONS=false

# 通知方式: email, webhook, slack
NOTIFICATION_TYPE=email

# 邮件通知配置
NOTIFICATION_EMAIL=
NOTIFICATION_SMTP_HOST=
NOTIFICATION_SMTP_PORT=587
NOTIFICATION_SMTP_USER=
NOTIFICATION_SMTP_PASS=

# Webhook 通知配置
NOTIFICATION_WEBHOOK_URL=

# Slack 通知配置
NOTIFICATION_SLACK_WEBHOOK_URL=

# ========================================
# 日志配置 (可选)
# ========================================

# 日志级别: debug, info, warn, error
LOG_LEVEL=info

# 是否启用详细日志
VERBOSE_LOGGING=false

# 日志文件路径
LOG_FILE=

# ========================================
# 安全配置 (可选)
# ========================================

# 是否加密备份文件
ENCRYPT_BACKUPS=false

# 备份文件加密密码
BACKUP_ENCRYPTION_PASSWORD=

# 是否验证备份文件完整性
VERIFY_BACKUP_INTEGRITY=true

# ========================================
# 配置说明
# ========================================

# 重要提示：
# 1. 将 powzuwgzbmpnqamchdma 替换为你的实际 Supabase 项目引用
# 2. 从 Supabase 项目设置 > Database > Connection string 获取数据库密码
# 3. 确保 PGPASSWORD 或 SUPABASE_DB_URL 中的密码正确
# 4. SSL 模式必须设置为 require（Supabase 要求）

# 获取数据库连接信息的方法：
# 1. 登录 Supabase 控制台
# 2. 选择你的项目
# 3. 进入 Settings > Database
# 4. 在 Connection string 部分找到连接信息
# 5. 复制连接字符串或单独的主机、端口、数据库、用户名、密码信息

